<div class="margin-20">

    <div>
        <h1 class="text-center">Listar Pessoas</h1>
    </div>

    <div class="p-grid">
        <button class="p-col-5 p-lg-3 p-button-success" pButton label="Cadastrar" icon="pi pi-user-plus"
            [routerLink]="['/pessoas', 'cadastrar']">
        </button>
    </div>

    <div class="card margin-y-10">
        <p-table [value]="pessoas.content" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[10,25,50]">
            <ng-template pTemplate="header">
                <tr>
                    <th>Nome</th>
                    <th>CPF</th>
                    <th>Ações</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-pessoa>
                <tr>
                    <td>{{pessoa.nome}}</td>
                    <td>{{pessoa.cpf | cpf}}</td>
                    <td>
                        <i class="pi pi-eye margin-right-5 click color-blue" (click)="visualizarPessoa(pessoa.id)"></i>
                        <i class="pi pi-user-edit margin-right-5 color-green click" (click)="editarPessoa(pessoa.id)"></i>
                        <i class="pi pi-trash color-red click" (click)="excluirPessoa(pessoa.id, pessoa.nome)"></i>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>

</div>

<p-confirmDialog #dialog>
    <p-footer>
        <button class="p-button-success" type="button" pButton icon="pi pi-check" label="Sim" (click)="dialog.accept()"></button>
        <button class="p-button-danger" type="button" pButton icon="pi pi-times" label="Não" (click)="dialog.reject()"></button>
    </p-footer>
</p-confirmDialog>
